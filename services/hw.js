const holtWinters = require('holtwinters')

const data = [
  30,
  37,
  36,
  71,
  37,
  41,
  29,
  28,
  27,
  28,
  6,
  16,
  9,
  14,
  19,
  20,
  26,
  30,
  29,
  28,
  37,
  28,
  21,
  49,
  29,
  32,
  21,
  27,
  17,
  26,
  22,
  36,
  57,
  18,
  33,
  40,
  39,
  55,
  45,
  48,
  32,
  25,
  37,
  42,
  36,
  21,
  18,
  35,
  29,
  31,
  42,
  48,
  39,
  45,
  25,
  41,
  24,
  41,
  32,
  44,
  38,
  30,
  25,
  35,
  17,
  19,
  28,
  39,
  35,
  19,
  23,
  40,
  17,
  23,
  21,
  36,
  17,
  25,
  20,
  38,
  57,
  18,
  33,
  40,
  39,
  55,
  45,
  50,
  31,
  25,
  38,
  42,
  36,
  39,
  18,
  35,
  30,
  18,
  24,
  33,
  25,
  43,
  34,
  41,
  45,
  41,
  31,
  37
]

const predict = (quantity) => {
  const result = holtWinters(data, Number(quantity))
  const predicitions = result.augumentedDataset.slice(-1 * quantity)
  return predicitions.map((x) => Math.round(x))
}

const getData = () => {
  return data
}

module.exports = {
  predict,
  getData
}
